"use strict";(()=>{var e={};e.id=158,e.ids=[158],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9541:(e,r,s)=>{s.r(r),s.d(r,{originalPathname:()=>d,patchFetch:()=>f,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var i={};s.r(i),s.d(i,{POST:()=>l});var a=s(9303),t=s(8716),o=s(670);let n=new(s(5152)).ZP,u={breakfast:{goal:"Petit-d\xe9jeuner prot\xe9in\xe9, tenir jusqu'au d\xe9jeuner sans fringale",constraints:"Base : ≈ìufs (6) ou \xe9quivalent prot\xe9in\xe9, \xe9viter sucre rapide",style:"Shakshuka, omelette garnie, ≈ìufs brouill\xe9s avocat, frittata l\xe9gumes"},lunch:{goal:"D\xe9jeuner \xe9quilibr\xe9 pour \xe9nergie apr\xe8s-midi",constraints:"Riz/f\xe9culents + prot\xe9ine (poulet, poisson, b≈ìuf) + l\xe9gumes",style:"Bowl asiatique, curry, saut\xe9 wok, grillades m\xe9diterran\xe9ennes"},snack:{goal:"Collation l\xe9g\xe8re et rassasiante pr\xe9-sieste",constraints:"Prot\xe9in\xe9, <200 kcal, \xe9viter sucre",style:"Yaourt grec, ≈ìuf dur amandes, fromage blanc fruits secs"},dinner:{goal:"D\xeener complet avant 20h30, digeste pour bien dormir",constraints:"Prot\xe9ines + l\xe9gumes, f\xe9culents l\xe9gers, portion mod\xe9r\xe9e",style:"Poisson vapeur, poulet grill\xe9 salade, soupe + prot\xe9ine"},plannedTreat:{goal:"Plaisir contr\xf4l\xe9 sans culpabilit\xe9",constraints:"Portion raisonnable, qualit\xe9 > quantit\xe9",style:"Carr\xe9 chocolat noir, fruit + yaourt, g\xe2teau maison portion"}};async function l(e){try{let{mealType:r,constraints:s}=await e.json(),i=u[r]||u.lunch,a=`Chef nutritionniste cr\xe9atif. G\xe9n\xe8re 3 recettes UNIQUES pour : ${i.goal}

Contraintes : ${i.constraints}
Style inspirations : ${i.style}
${s?`Contraintes suppl\xe9mentaires : ${s}`:""}

Pour chaque recette, fournis EXACTEMENT ce format JSON :
{
  "name": "Nom app\xe9tissant et original",
  "emoji": "üç≥",
  "ingredients": ["200g poulet", "100g riz", "..."],
  "steps": ["\xc9tape 1 concise", "\xc9tape 2 concise", "\xc9tape 3 concise"],
  "prepTime": 15,
  "kcal": 450,
  "tip": "Conseil du chef ou variante gourmande"
}

IMPORTANT :
- Sois CR\xc9ATIF avec des noms \xe9vocateurs (pas "Salade de poulet")
- Propose des saveurs, \xe9pices, cuisines du monde
- Chaque recette doit \xeatre DIFF\xc9RENTE des autres
- Steps courtes et actionnables (3-4 max)

R\xe9ponds UNIQUEMENT avec le JSON : { "recipes": [...] }`,t=await n.messages.create({model:"claude-sonnet-4-20250514",max_tokens:1e3,messages:[{role:"user",content:a}]}),o=t.content[0]?.text||"";try{let e=o.match(/\{[\s\S]*\}/);if(e){let r=JSON.parse(e[0]);return Response.json({success:!0,recipes:r.recipes||[]})}}catch(e){console.error("JSON parse error:",e)}let l={breakfast:[{name:"Shakshuka \xc9pic\xe9e",emoji:"\uD83C\uDF73",ingredients:["6 ≈ìufs","400g tomates concass\xe9es","1 oignon","poivron rouge","cumin","paprika"],steps:["Faire revenir oignon et poivron 5min","Ajouter tomates et \xe9pices, mijoter 10min","Creuser 6 puits, casser les ≈ìufs, couvrir 5min"],prepTime:20,kcal:420,tip:"Ajouter de la feta \xe9miett\xe9e pour plus de gourmandise"},{name:"Frittata M\xe9diterran\xe9enne",emoji:"\uD83E\uDD5A",ingredients:["6 ≈ìufs","courgette","tomates s\xe9ch\xe9es","olives","feta","basilic"],steps:["Battre ≈ìufs avec fromage","Faire revenir l\xe9gumes 5min","Verser ≈ìufs, cuire 10min couvert"],prepTime:15,kcal:450,tip:"D\xe9licieuse froide pour le lendemain"},{name:"≈íufs Brouill\xe9s Avocat-Saumon",emoji:"\uD83E\uDD51",ingredients:["6 ≈ìufs","1 avocat","50g saumon fum\xe9","ciboulette","citron"],steps:["Brouiller ≈ìufs \xe0 feu doux 5min","Disposer sur avocat \xe9cras\xe9","Garnir saumon et ciboulette"],prepTime:10,kcal:520,tip:"Le secret : retirer du feu avant cuisson compl\xe8te"}],lunch:[{name:"Bowl Tha\xef au B≈ìuf",emoji:"\uD83E\uDD62",ingredients:["300g b≈ìuf \xe9minc\xe9","250g riz jasmin","carottes","edamames","sauce soja","cacahu\xe8tes"],steps:["Cuire riz et l\xe9gumes s\xe9par\xe9ment","Saisir b≈ìuf \xe0 feu vif 3min","Assembler bowl, napper sauce"],prepTime:20,kcal:650,tip:"Ajouter du basilic tha\xef frais"},{name:"Curry Poulet-Coco Express",emoji:"\uD83C\uDF5B",ingredients:["300g poulet","250g riz basmati","lait coco","curry","\xe9pinards","gingembre"],steps:["Faire revenir poulet avec \xe9pices","Ajouter lait coco, mijoter 15min","Incorporer \xe9pinards, servir sur riz"],prepTime:25,kcal:580,tip:"Doubler les \xe9pinards pour plus de l\xe9gumes"},{name:"Saumon Teriyaki L\xe9gumes",emoji:"\uD83D\uDC1F",ingredients:["300g saumon","250g riz","brocolis","sauce teriyaki","s\xe9same","gingembre"],steps:["Cuire riz et brocolis vapeur","Saisir saumon 3min/c\xf4t\xe9","Napper teriyaki, parsemer s\xe9same"],prepTime:18,kcal:620,tip:"Marinade 30min avant = saveur x10"}],snack:[{name:"Parfait Prot\xe9in\xe9",emoji:"\uD83E\uDD5C",ingredients:["200g yaourt grec","30g amandes","myrtilles","miel","cannelle"],steps:["Superposer yaourt et fruits","Ajouter amandes et miel","Saupoudrer cannelle"],prepTime:3,kcal:180,tip:"Pr\xe9parer la veille pour plus de saveur"},{name:"≈íuf Mollet Avocat",emoji:"\uD83E\uDD51",ingredients:["1 ≈ìuf","1/2 avocat","paprika","sel","quelques graines"],steps:["Cuire ≈ìuf 6min eau bouillante","\xc9craser avocat, assaisonner","Poser ≈ìuf, ouvrir d\xe9licatement"],prepTime:8,kcal:190,tip:"L'≈ìuf parfait : 6min pile pour le mollet"},{name:"Fromage Blanc \xc9nergisant",emoji:"\uD83C\uDF6F",ingredients:["150g fromage blanc","noix","graines de chia","miel"],steps:["Verser fromage blanc","Ajouter noix et graines","Filet de miel"],prepTime:2,kcal:170,tip:"Les graines de chia gonflent = sati\xe9t\xe9 prolong\xe9e"}],dinner:[{name:"Dos de Cabillaud Citronn\xe9",emoji:"\uD83C\uDF4B",ingredients:["300g cabillaud","haricots verts","citron","ail","persil","huile d'olive"],steps:["Cuire poisson vapeur 12min","Faire revenir haricots \xe0 l'ail","Arroser de citron et persil"],prepTime:15,kcal:380,tip:"Le citron en fin de cuisson garde sa fra\xeecheur"},{name:"Poulet Grill\xe9 Salade Chaude",emoji:"\uD83E\uDD57",ingredients:["300g poulet","roquette","tomates cerises","parmesan","pignons","balsamique"],steps:["Griller poulet 6min/c\xf4t\xe9","Composer salade pendant cuisson","Trancher poulet, disposer chaud"],prepTime:15,kcal:420,tip:"Le poulet chaud fait l\xe9g\xe8rement fondre le parmesan"},{name:"Soupe Miso Tofu Soba",emoji:"\uD83C\uDF5C",ingredients:["200g tofu","100g soba","miso","algues wakame","oignons verts","gingembre"],steps:["Chauffer bouillon miso","Ajouter tofu et soba cuites","Garnir algues et oignons"],prepTime:12,kcal:350,tip:"Ne jamais faire bouillir le miso"}],plannedTreat:[{name:"Mousse Choco Express",emoji:"\uD83C\uDF6B",ingredients:["100g chocolat noir 70%","2 ≈ìufs","1 pinc\xe9e sel"],steps:["Fondre chocolat au bain-marie","Incorporer jaunes puis blancs mont\xe9s","R\xe9frig\xe9rer 2h"],prepTime:10,kcal:180,tip:"70% de cacao = moins de sucre, plus d'antioxydants"}]};return Response.json({success:!0,recipes:l[r]||l.lunch})}catch(e){return console.error("Recipe suggestion error:",e),Response.json({success:!1,recipes:[{name:"Bowl \xc9quilibr\xe9",emoji:"\uD83E\uDD57",ingredients:["prot\xe9ine au choix","f\xe9culents","l\xe9gumes vari\xe9s"],steps:["Cuire les composants","Assembler joliment","Assaisonner"],prepTime:15,kcal:500,tip:"La vari\xe9t\xe9 des couleurs = vari\xe9t\xe9 des nutriments"}]},{status:200})}}let p=new a.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/recipes/suggest/route",pathname:"/api/recipes/suggest",filename:"route",bundlePath:"app/api/recipes/suggest/route"},resolvedPagePath:"/Users/faicalkriouar/Desktop/coach-zen/app/api/recipes/suggest/route.js",nextConfigOutput:"",userland:i}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:g}=p,d="/api/recipes/suggest/route";function f(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),i=r.X(0,[948,160],()=>s(9541));module.exports=i})();