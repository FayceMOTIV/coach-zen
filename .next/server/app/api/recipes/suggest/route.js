"use strict";(()=>{var e={};e.id=158,e.ids=[158],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9541:(e,i,r)=>{r.r(i),r.d(i,{originalPathname:()=>D,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>g,serverHooks:()=>h,staticGenerationAsyncStorage:()=>f});var a={};r.r(a),r.d(a,{POST:()=>m});var s=r(9303),t=r(8716),n=r(670);let o=new(r(1088)).ZP,u={breakfast:{goal:"Petit-d\xe9jeuner prot\xe9in\xe9, tenir jusqu'au d\xe9jeuner sans fringale",constraints:"Base : ≈ìufs (6) ou \xe9quivalent prot\xe9in\xe9, \xe9viter sucre rapide",style:"Shakshuka, omelette garnie, ≈ìufs brouill\xe9s avocat, frittata l\xe9gumes"},lunch:{goal:"D\xe9jeuner \xe9quilibr\xe9 pour \xe9nergie apr\xe8s-midi",constraints:"Riz/f\xe9culents + prot\xe9ine (poulet, poisson, b≈ìuf) + l\xe9gumes",style:"Bowl asiatique, curry, saut\xe9 wok, grillades m\xe9diterran\xe9ennes"},snack:{goal:"Collation l\xe9g\xe8re et rassasiante pr\xe9-sieste",constraints:"Prot\xe9in\xe9, <200 kcal, \xe9viter sucre",style:"Yaourt grec, ≈ìuf dur amandes, fromage blanc fruits secs"},dinner:{goal:"D\xeener complet avant 20h30, digeste pour bien dormir",constraints:"Prot\xe9ines + l\xe9gumes, f\xe9culents l\xe9gers, portion mod\xe9r\xe9e",style:"Poisson vapeur, poulet grill\xe9 salade, soupe + prot\xe9ine"},plannedTreat:{goal:"Plaisir contr\xf4l\xe9 sans culpabilit\xe9",constraints:"Portion raisonnable, qualit\xe9 > quantit\xe9",style:"Carr\xe9 chocolat noir, fruit + yaourt, g\xe2teau maison portion"}},l=["fran\xe7aise","italienne","asiatique","mexicaine","m\xe9diterran\xe9enne","indienne","japonaise","tha\xef","libanaise","grecque"],p=["grill\xe9","saut\xe9","mijot\xe9","vapeur","r\xf4ti","po\xeal\xe9","marin\xe9","en papillote"],c=["printanier","estival","automnal","hivernal","r\xe9confortant","frais","l\xe9ger","gourmand"];async function m(e){try{let{mealType:i,constraints:r,excludeRecipes:a}=await e.json(),s=u[i]||u.lunch,t=l[Math.floor(Math.random()*l.length)],n=p[Math.floor(Math.random()*p.length)],m=c[Math.floor(Math.random()*c.length)],g=a?.length>0?`
\xc9VITE ces recettes d\xe9j\xe0 propos\xe9es : ${a.join(", ")}`:"",d=`Chef nutritionniste cr\xe9atif (seed: ${Math.floor(1e4*Math.random())}). G\xe9n\xe8re 3 recettes UNIQUES pour : ${s.goal}

Contraintes : ${s.constraints}
Style inspirations : ${s.style}
Inspiration du moment : cuisine ${t}, technique ${n}, ambiance ${m}
${r?`Contraintes suppl\xe9mentaires : ${r}`:""}${g}

Pour chaque recette, fournis EXACTEMENT ce format JSON :
{
  "name": "Nom app\xe9tissant et original",
  "emoji": "üç≥",
  "ingredients": ["200g poulet", "100g riz", "..."],
  "steps": ["\xc9tape 1 concise", "\xc9tape 2 concise", "\xc9tape 3 concise"],
  "prepTime": 15,
  "kcal": 450,
  "tip": "Conseil du chef ou variante gourmande"
}

IMPORTANT :
- Sois TR\xc8S CR\xc9ATIF avec des noms \xe9vocateurs uniques
- Inspire-toi de la cuisine ${t} et/ou technique ${n}
- Chaque recette doit \xeatre DIFF\xc9RENTE des autres et des suggestions pr\xe9c\xe9dentes
- Steps courtes et actionnables (3-4 max)
- Propose des recettes NOUVELLES, pas des classiques

R\xe9ponds UNIQUEMENT avec le JSON : { "recipes": [...] }`,f=await o.chat.completions.create({model:"gpt-4o-mini",max_tokens:1e3,temperature:1.2,messages:[{role:"user",content:d}]}),h=f.choices[0]?.message?.content||"";try{let e=h.match(/\{[\s\S]*\}/);if(e){let i=JSON.parse(e[0]);return Response.json({success:!0,recipes:i.recipes||[]})}}catch(e){console.error("JSON parse error:",e)}let D={breakfast:[{name:"Shakshuka \xc9pic\xe9e",emoji:"\uD83C\uDF73",ingredients:["6 ≈ìufs","400g tomates concass\xe9es","1 oignon","poivron rouge","cumin","paprika"],steps:["Faire revenir oignon et poivron 5min","Ajouter tomates et \xe9pices, mijoter 10min","Creuser 6 puits, casser les ≈ìufs, couvrir 5min"],prepTime:20,kcal:420,tip:"Ajouter de la feta \xe9miett\xe9e pour plus de gourmandise"},{name:"Frittata M\xe9diterran\xe9enne",emoji:"\uD83E\uDD5A",ingredients:["6 ≈ìufs","courgette","tomates s\xe9ch\xe9es","olives","feta","basilic"],steps:["Battre ≈ìufs avec fromage","Faire revenir l\xe9gumes 5min","Verser ≈ìufs, cuire 10min couvert"],prepTime:15,kcal:450,tip:"D\xe9licieuse froide pour le lendemain"},{name:"≈íufs Brouill\xe9s Avocat-Saumon",emoji:"\uD83E\uDD51",ingredients:["6 ≈ìufs","1 avocat","50g saumon fum\xe9","ciboulette","citron"],steps:["Brouiller ≈ìufs \xe0 feu doux 5min","Disposer sur avocat \xe9cras\xe9","Garnir saumon et ciboulette"],prepTime:10,kcal:520,tip:"Le secret : retirer du feu avant cuisson compl\xe8te"},{name:"Omelette Foresti\xe8re",emoji:"\uD83C\uDF44",ingredients:["6 ≈ìufs","champignons","\xe9chalote","persil","beurre"],steps:["Po\xealer champignons et \xe9chalote","Battre ≈ìufs, verser sur champignons","Plier en deux, servir baveuse"],prepTime:12,kcal:380,tip:"Champignons de Paris ou shiitakes"},{name:"Eggs Benedict Maison",emoji:"\uD83E\uDD53",ingredients:["6 ≈ìufs","bacon","muffins anglais","sauce hollandaise"],steps:["Pocher ≈ìufs 3min","Griller bacon et muffins","Assembler avec hollandaise"],prepTime:18,kcal:550,tip:"Vinaigre dans l'eau pour ≈ìufs poch\xe9s parfaits"},{name:"Tortilla Espagnole",emoji:"\uD83C\uDDEA\uD83C\uDDF8",ingredients:["6 ≈ìufs","pommes de terre","oignon","huile d'olive"],steps:["Cuire pommes de terre et oignons 15min","M\xe9langer aux ≈ìufs battus","Cuire 5min chaque c\xf4t\xe9"],prepTime:25,kcal:480,tip:"Servir ti\xe8de, c'est meilleur"}],lunch:[{name:"Bowl Tha\xef au B≈ìuf",emoji:"\uD83E\uDD62",ingredients:["300g b≈ìuf \xe9minc\xe9","250g riz jasmin","carottes","edamames","sauce soja","cacahu\xe8tes"],steps:["Cuire riz et l\xe9gumes s\xe9par\xe9ment","Saisir b≈ìuf \xe0 feu vif 3min","Assembler bowl, napper sauce"],prepTime:20,kcal:650,tip:"Ajouter du basilic tha\xef frais"},{name:"Curry Poulet-Coco Express",emoji:"\uD83C\uDF5B",ingredients:["300g poulet","250g riz basmati","lait coco","curry","\xe9pinards","gingembre"],steps:["Faire revenir poulet avec \xe9pices","Ajouter lait coco, mijoter 15min","Incorporer \xe9pinards, servir sur riz"],prepTime:25,kcal:580,tip:"Doubler les \xe9pinards pour plus de l\xe9gumes"},{name:"Saumon Teriyaki L\xe9gumes",emoji:"\uD83D\uDC1F",ingredients:["300g saumon","250g riz","brocolis","sauce teriyaki","s\xe9same","gingembre"],steps:["Cuire riz et brocolis vapeur","Saisir saumon 3min/c\xf4t\xe9","Napper teriyaki, parsemer s\xe9same"],prepTime:18,kcal:620,tip:"Marinade 30min avant = saveur x10"},{name:"Pad Tha\xef Crevettes",emoji:"\uD83C\uDF64",ingredients:["300g crevettes","200g nouilles de riz","≈ìuf","cacahu\xe8tes","citron vert","sauce poisson"],steps:["Tremper nouilles 10min","Sauter crevettes et ≈ìuf","Ajouter nouilles et sauce, servir avec citron"],prepTime:15,kcal:550,tip:"La sauce : 2 c.s. sauce poisson + 1 c.s. sucre"},{name:"Burrito Bowl Mexicain",emoji:"\uD83C\uDF2E",ingredients:["300g poulet","250g riz","haricots noirs","ma\xefs","avocat","salsa"],steps:["Griller poulet \xe9pic\xe9","Assembler riz, haricots, ma\xefs","Garnir avocat et salsa"],prepTime:20,kcal:680,tip:"Ajouter du fromage r\xe2p\xe9 et cr\xe8me fra\xeeche"},{name:"Risotto Champignons",emoji:"\uD83C\uDF5A",ingredients:["300g riz arborio","200g champignons","parmesan","vin blanc","bouillon"],steps:["Faire revenir champignons","Ajouter riz, mouiller au bouillon","Finir au parmesan"],prepTime:30,kcal:520,tip:"Remuer constamment pour le cr\xe9meux"}],snack:[{name:"Parfait Prot\xe9in\xe9",emoji:"\uD83E\uDD5C",ingredients:["200g yaourt grec","30g amandes","myrtilles","miel","cannelle"],steps:["Superposer yaourt et fruits","Ajouter amandes et miel","Saupoudrer cannelle"],prepTime:3,kcal:180,tip:"Pr\xe9parer la veille pour plus de saveur"},{name:"≈íuf Mollet Avocat",emoji:"\uD83E\uDD51",ingredients:["1 ≈ìuf","1/2 avocat","paprika","sel","quelques graines"],steps:["Cuire ≈ìuf 6min eau bouillante","\xc9craser avocat, assaisonner","Poser ≈ìuf, ouvrir d\xe9licatement"],prepTime:8,kcal:190,tip:"L'≈ìuf parfait : 6min pile pour le mollet"},{name:"Fromage Blanc \xc9nergisant",emoji:"\uD83C\uDF6F",ingredients:["150g fromage blanc","noix","graines de chia","miel"],steps:["Verser fromage blanc","Ajouter noix et graines","Filet de miel"],prepTime:2,kcal:170,tip:"Les graines de chia gonflent = sati\xe9t\xe9 prolong\xe9e"},{name:"Smoothie Prot\xe9in\xe9 Banane",emoji:"\uD83C\uDF4C",ingredients:["1 banane","200ml lait","30g prot\xe9ine","beurre cacahu\xe8te"],steps:["Mixer tous les ingr\xe9dients","Ajouter gla\xe7ons si d\xe9sir\xe9","Servir imm\xe9diatement"],prepTime:3,kcal:195,tip:"Banane congel\xe9e = texture glac\xe9e"},{name:"Houmous L\xe9gumes Croquants",emoji:"\uD83E\uDD55",ingredients:["100g houmous","carottes","concombre","c\xe9leri"],steps:["Couper l\xe9gumes en b\xe2tonnets","Servir avec houmous","Assaisonner d'un filet d'huile"],prepTime:5,kcal:160,tip:"Ajouter paprika fum\xe9 sur le houmous"},{name:"Cottage Cheese Tropical",emoji:"\uD83E\uDD65",ingredients:["150g cottage cheese","ananas frais","noix de coco r\xe2p\xe9e"],steps:["Disposer cottage cheese","Ajouter ananas coup\xe9","Parsemer de coco"],prepTime:3,kcal:175,tip:"Le cottage cheese = 12g prot\xe9ines/100g"}],dinner:[{name:"Dos de Cabillaud Citronn\xe9",emoji:"\uD83C\uDF4B",ingredients:["300g cabillaud","haricots verts","citron","ail","persil","huile d'olive"],steps:["Cuire poisson vapeur 12min","Faire revenir haricots \xe0 l'ail","Arroser de citron et persil"],prepTime:15,kcal:380,tip:"Le citron en fin de cuisson garde sa fra\xeecheur"},{name:"Poulet Grill\xe9 Salade Chaude",emoji:"\uD83E\uDD57",ingredients:["300g poulet","roquette","tomates cerises","parmesan","pignons","balsamique"],steps:["Griller poulet 6min/c\xf4t\xe9","Composer salade pendant cuisson","Trancher poulet, disposer chaud"],prepTime:15,kcal:420,tip:"Le poulet chaud fait l\xe9g\xe8rement fondre le parmesan"},{name:"Soupe Miso Tofu Soba",emoji:"\uD83C\uDF5C",ingredients:["200g tofu","100g soba","miso","algues wakame","oignons verts","gingembre"],steps:["Chauffer bouillon miso","Ajouter tofu et soba cuites","Garnir algues et oignons"],prepTime:12,kcal:350,tip:"Ne jamais faire bouillir le miso"},{name:"Papillote de Saumon",emoji:"\uD83D\uDC20",ingredients:["300g saumon","courgettes","citron","aneth","huile d'olive"],steps:["Disposer saumon sur papier cuisson","Ajouter l\xe9gumes et aromates","Cuire au four 15min \xe0 180\xb0C"],prepTime:20,kcal:410,tip:"Ouvrir la papillote \xe0 table pour l'effet waouh"},{name:"Wok de L\xe9gumes au Tofu",emoji:"\uD83E\uDD6C",ingredients:["200g tofu ferme","brocoli","poivrons","sauce soja","s\xe9same"],steps:["Faire dorer tofu en cubes","Sauter l\xe9gumes \xe0 feu vif","Napper de sauce, parsemer s\xe9same"],prepTime:15,kcal:320,tip:"Presser le tofu avant pour qu'il soit croustillant"},{name:"Salade C\xe9sar L\xe9g\xe8re",emoji:"\uD83E\uDD57",ingredients:["300g poulet","romaine","parmesan","cro\xfbtons","sauce c\xe9sar l\xe9g\xe8re"],steps:["Griller poulet, trancher","Assembler salade et cro\xfbtons","Napper de sauce, r\xe2per parmesan"],prepTime:15,kcal:390,tip:"Sauce maison : yaourt grec + anchois + citron"}],plannedTreat:[{name:"Mousse Choco Express",emoji:"\uD83C\uDF6B",ingredients:["100g chocolat noir 70%","2 ≈ìufs","1 pinc\xe9e sel"],steps:["Fondre chocolat au bain-marie","Incorporer jaunes puis blancs mont\xe9s","R\xe9frig\xe9rer 2h"],prepTime:10,kcal:180,tip:"70% de cacao = moins de sucre, plus d'antioxydants"},{name:"Banana Nice Cream",emoji:"\uD83C\uDF4C",ingredients:["2 bananes congel\xe9es","cacao en poudre","lait d'amande"],steps:["Mixer bananes congel\xe9es","Ajouter cacao et un peu de lait","Servir imm\xe9diatement"],prepTime:5,kcal:150,tip:"100% fruit, z\xe9ro culpabilit\xe9"},{name:"Pomme au Four Cannelle",emoji:"\uD83C\uDF4E",ingredients:["1 pomme","cannelle","noix","miel"],steps:["\xc9vider la pomme","Farcir de noix et miel","Cuire 25min \xe0 180\xb0C"],prepTime:30,kcal:160,tip:"Servir ti\xe8de avec yaourt grec"},{name:"Panna Cotta L\xe9g\xe8re",emoji:"\uD83C\uDF6E",ingredients:["200ml lait d'amande","g\xe9latine","vanille","coulis fruits rouges"],steps:["Chauffer lait avec vanille","Dissoudre g\xe9latine","R\xe9frig\xe9rer 4h, d\xe9mouler"],prepTime:15,kcal:120,tip:"Le lait d'amande = 2x moins de calories"}]},v=[...D[i]||D.lunch].sort(()=>Math.random()-.5).slice(0,3);return Response.json({success:!0,recipes:v})}catch(e){return console.error("Recipe suggestion error:",e),Response.json({success:!1,recipes:[{name:"Bowl \xc9quilibr\xe9",emoji:"\uD83E\uDD57",ingredients:["prot\xe9ine au choix","f\xe9culents","l\xe9gumes vari\xe9s"],steps:["Cuire les composants","Assembler joliment","Assaisonner"],prepTime:15,kcal:500,tip:"La vari\xe9t\xe9 des couleurs = vari\xe9t\xe9 des nutriments"}]},{status:200})}}let g=new s.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/recipes/suggest/route",pathname:"/api/recipes/suggest",filename:"route",bundlePath:"app/api/recipes/suggest/route"},resolvedPagePath:"/Users/faicalkriouar/Desktop/coach-zen/app/api/recipes/suggest/route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:f,serverHooks:h}=g,D="/api/recipes/suggest/route";function v(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:f})}}};var i=require("../../../../webpack-runtime.js");i.C(e);var r=e=>i(i.s=e),a=i.X(0,[948,138],()=>r(9541));module.exports=a})();